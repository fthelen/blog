<!-- _includes/footer.html -->
<footer class="site-footer">
  <div class="wrapper" style="display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:.5rem">

    <!-- left-hand text -->
    <p class="text-sm" style="margin:0">
      &copy; {{ 'now' | date: '%Y' }}
      {{ site.author.name | default: site.title }}.
      All rights&nbsp;reserved.
      &bull; Last&nbsp;updated&nbsp;{{ site.time | date: '%b&nbsp;%d,&nbsp;%Y&nbsp;%H:%M&nbsp;%Z' }}
      &bull; <a href="{{ '/feed.xml' | relative_url }}">RSS</a>
      &bull; <a href="https://github.com/fthelen">GitHub</a>
    </p>

    <!-- dark-mode toggle -->
    <button id="dark-mode-toggle" aria-label="Toggle dark mode"
      style="background:none;border:0;font-size:1.25rem;cursor:pointer">
      &#127769; <!-- crescent-moon emoji -->
    </button>
  </div>

  <!-- tiny dark-mode helper -->
  <script>
    (function () {
      var root = document.documentElement;
      var key = 'prefers-dark';
      var saved = localStorage.getItem(key);

      /* 1️⃣  apply stored or OS preference on first paint */
      if (saved === 'yes' ||
        (saved === null && matchMedia('(prefers-color-scheme: dark)').matches)) {
        root.classList.add('dark');
      }

      /* 2️⃣  toggle + remember on click */
      document.getElementById('dark-mode-toggle')
        .addEventListener('click', function () {
          root.classList.toggle('dark');
          localStorage.setItem(key, root.classList.contains('dark') ? 'yes' : 'no');
        });
    })();
  </script>

  <!-- minimal dark-mode CSS -->
  <style>
    html.dark,
    html.dark body {
      background: #111;
      color: #eee;
    }

    html.dark a {
      color: #8bd0ff;
    }
  </style>
</footer>