<!-- _includes/footer.html -->
<footer class="site-footer">
  <div class="wrapper">
    <div class="footer-col-wrapper">
      <!-- left‑hand column -->
      <div class="footer-col footer-col-1">
        <p class="text-small" style="margin:0">
          &copy; {{ 'now' | date: '%Y' }}
          {% if site.author and site.author.name %}
            {{ site.author.name | escape }}
          {% else %}
            {{ site.title | replace: "'s Weblog","" | escape }}
          {% endif %}.
          All rights&nbsp;reserved.<br/>
          Last&nbsp;updated&nbsp;{{ site.time | date: '%b&nbsp;%d,&nbsp;%Y&nbsp;%H:%M&nbsp;%Z' }}<br/>
          <a href="{{ '/feed.xml' | relative_url }}">RSS</a>
          &middot;
          <a href="https://github.com/fthelen">GitHub</a>
        </p>
      </div>

      <!-- right‑hand column -->
      <div class="footer-col footer-col-2" style="text-align:right">
        <button id="dark-mode-toggle"
                aria-label="Toggle dark mode"
                style="background:none;border:0;font-size:1.25rem;cursor:pointer">
          &#127769;  <!-- crescent‑moon emoji -->
        </button>
      </div>
    </div>
  </div>

  <!-- dark‑mode helper -->
  <script>
    (function () {
      var root  = document.documentElement;
      var key   = 'prefers-dark';
      var saved = localStorage.getItem(key);

      /* apply stored or OS preference on first paint */
      if (saved === 'yes' ||
          (saved === null && matchMedia('(prefers-color-scheme: dark)').matches)) {
        root.classList.add('dark');
      }

      /* toggle + remember on click */
      document.getElementById('dark-mode-toggle')
              .addEventListener('click', function () {
        root.classList.toggle('dark');
        localStorage.setItem(key, root.classList.contains('dark') ? 'yes' : 'no');
      });
    })();
  </script>

  <!-- minimal dark‑mode CSS -->
  <style>
    html.dark,
    html.dark body { background:#111; color:#eee; }
    html.dark a    { color:#8bd0ff; }

    #dark-mode-toggle:hover { opacity:0.7; }
  </style>
</footer>